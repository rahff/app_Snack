(self.webpackChunksnack=self.webpackChunksnack||[]).push([[592],{8915:(t,e,s)=>{"use strict";s.d(e,{p:()=>n});var r=s(9582),i=s(4766),a=s(8561),u=s(7272),o=s(1887),d=s(736);let n=(()=>{class t{constructor(t,e){this.http=t,this.userService=e,this.api=i.N.API,this.orderList$=new r.xQ}createOrder(t){return new Promise((e,s)=>{console.log("inCreateOderServive"),this.http.post(this.api+"orders/new",t).subscribe(t=>{200===t.status?(this.userService.currentUser$.next({confirm:t.result.confirm,email:t.result.local.email,_id:t.result._id,adress:t.result.adress,commandes:t.result.commandes,firstname:t.result.firstname,name:t.result.name,role:t.result.role}),e(!0)):s("erreur lors de l'enregistrement de la commande")})})}getOrderList(){return this.http.get(this.api+"orders/list").pipe((0,a.U)(t=>t.result))}deleteOrder(t){return new Promise((e,s)=>{this.http.delete(this.api+"orders/delete/"+t).subscribe(t=>{200===t.status?(this.getOrderList(),e(t.message)):s(t.message)})})}emitOrder(){this.orderList$.next(this.orderList)}}return t.\u0275fac=function(e){return new(e||t)(u.LFG(o.eN),u.LFG(d.K))},t.\u0275prov=u.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},9334:(t,e,s)=>{"use strict";s.d(e,{M:()=>o});var r=s(4766),i=s(9923),a=s(7272),u=s(1887);let o=(()=>{class t{constructor(t){this.http=t,this.product$=new i.X([]),this.api=r.N.API,this.getProductList()}getProductList(){this.http.get(this.api+"products").subscribe(t=>{this.productList=t.result,this.emitProduct()})}emitProduct(){this.product$.next(this.productList)}addProduct(t,e){return new Promise((s,r)=>{let i=new FormData;i.append("product",JSON.stringify(t)),i.append("image",e),this.http.post(this.api+"products/add",i).subscribe(t=>{200===t.status?s(t.message):r(t.message)})})}getProductById(t){return this.http.get(this.api+"products/"+t)}updateProduct(t,e,s){return new Promise((r,i)=>{const a=new FormData;a.append("product",JSON.stringify(t)),s&&a.append("image",s),this.http.patch(this.api+"products/update/"+e,a).subscribe(t=>{200===t.status?r(t.message):i(t.message)})})}deleteProduct(t){return new Promise((e,s)=>{this.http.delete(this.api+"products/"+t).subscribe(t=>{200===t.status?e(t.message):s(t.message)})})}}return t.\u0275fac=function(e){return new(e||t)(a.LFG(u.eN))},t.\u0275prov=a.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);